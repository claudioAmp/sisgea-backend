<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="ob.unibanca.sicf.mantenimientosgenerales.mapper.IInstitucionMapper">


    <select id="buscarTodos" resultType="Institucion"
            statementType="PREPARED">
        SELECT id_institucion
             , descripcion          AS descripcion_institucion
             , descripcion_corta
             , razon_social
             , ruc
             , direccion
             , banco_administrador  AS es_banco_administrador
             , tipo_institucion
             , procesador           AS es_procesador
             , cta_cte_mon_base     AS cuenta_contable_moneda_base
             , cta_cte_mon_alterna  AS cuenta_contable_moneda_alterna
             , operador_institucion AS id_institucion_operador
            FROM mae_institucion
    </select>

    <select id="mantener" parameterType="ParametroMantenimiento"
            statementType="CALLABLE">
        {
            CALL pkg_man_generales.PRC_MAN_INSTITUCION(
                #{modo, jdbcType=VARCHAR, mode=IN},
                #{objetoMantenido.idInstitucion, jdbcType=NUMERIC, mode=IN},
                #{objetoMantenido.descripcionInstitucion, jdbcType=VARCHAR, mode=IN },
                #{objetoMantenido.descripcionCorta,  jdbcType=VARCHAR, mode=IN},
                #{objetoMantenido.razonSocial, jdbcType=VARCHAR, mode=IN},
                #{objetoMantenido.ruc,  jdbcType=VARCHAR, mode=IN},
                #{objetoMantenido.direccion, jdbcType=VARCHAR, mode=IN},
                #{objetoMantenido.esBancoAdministrador, jdbcType=NUMERIC, mode=IN},
                #{objetoMantenido.tipoInstitucion, jdbcType=VARCHAR, mode=IN},
                #{objetoMantenido.esProcesador, jdbcType=NUMERIC, mode=IN},
                #{objetoMantenido.cuentaContableMonedaBase, jdbcType=VARCHAR, mode=IN},
                #{objetoMantenido.cuentaContableMonedaAlterna, jdbcType=VARCHAR, mode=IN},
                #{objetoMantenido.idInstitucionOperador, jdbcType=NUMERIC, mode=IN},
                #{usuario, jdbcType=VARCHAR, mode=IN}
            )
        }
    </select>
</mapper>