<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="ob.unibanca.sicf.facturacion.mapper.IProcesoProcedureMapper">

    <select id="getMetadataProcedureProceso" resultType="MetadataProcedure" statementType="PREPARED">
        SELECT    id_proceso,
                  descripcion_proceso,
                  id_procedure,
                  nombre_procedure, 
                  patron_fecha_archivo
            FROM VIE_CARGA_PROCEDIMIENTO
            WHERE id_proceso = #{idProceso}
    </select>

    <select id="getParametrosProcedure" resultType="ob.commons.excel.usermodel.Campo" statementType="PREPARED">
        SELECT    nombre_parametro          AS  nombre_campo,
                  nombre_parametro_archivo  AS  nombre_campo_archivo,
                  tipo_dato,
                  posicion_archivo          AS posicion
            FROM MAE_PROCEDURE_PARAMETRO
            WHERE ID_PROCEDURE = #{idProcedure}
    </select>

    
    <select id="isReproceso" resultType="boolean" statementType="PREPARED">
        SELECT    FUN_REPROCESO_ARCHIVO(#{filename})
            FROM DUAL
    </select>

</mapper>
